{% extends "admin/base.html" %}

{% block title %}Quáº£n LÃ½ ÄÆ¡n HÃ ng{% endblock %}

{% block content %}
<div class="page-header">
    <h1>ğŸ›’ Quáº£n LÃ½ ÄÆ¡n HÃ ng</h1>
    <p>Danh sÃ¡ch táº¥t cáº£ Ä‘Æ¡n hÃ ng</p>
</div>

<div class="card">
    <div class="card-header">
        <h3>Danh SÃ¡ch ÄÆ¡n HÃ ng ({{ orders|length }})</h3>
    </div>

    {% if orders %}
    <div style="overflow-x: auto;">
        <table class="table">
            <thead>
                <tr>
                    <th>MÃ£ ÄÆ¡n</th>
                    <th>KhÃ¡ch HÃ ng</th>
                    <th>Sá»‘ Äiá»‡n Thoáº¡i</th>
                    <th>Tá»•ng Tiá»n</th>
                    <th>PhÆ°Æ¡ng Thá»©c</th>
                    <th>Tráº¡ng ThÃ¡i</th>
                    <th>Thanh ToÃ¡n</th>
                    <th>NgÃ y Äáº·t</th>
                    <th>Thao TÃ¡c</th>
                </tr>
            </thead>
            <tbody>
                {% for order in orders %}
                <tr>
                    <td><strong>{{ order.order_id }}</strong></td>
                    <td>{{ order.customer_name }}</td>
                    <td>{{ order.phone }}</td>
                    <td><strong>{{ "{:,.0f}".format(order.total) }} â‚«</strong></td>
                    <td>
                        {% if order.payment_method == 'cod' %}
                            ğŸ’µ COD
                        {% elif order.payment_method == 'bank_transfer' %}
                            ğŸ¦ Chuyá»ƒn khoáº£n
                        {% elif order.payment_method == 'credit_card' %}
                            ğŸ’³ Tháº» tÃ­n dá»¥ng
                        {% else %}
                            {{ order.payment_method }}
                        {% endif %}
                    </td>
                    <td>
                        {% if order.status == 'pending' %}
                            <span style="color: #f39c12; font-weight: bold;">â³ Chá» xá»­ lÃ½</span>
                        {% elif order.status == 'confirmed' %}
                            <span style="color: #3498db; font-weight: bold;">âœ“ ÄÃ£ xÃ¡c nháº­n</span>
                        {% elif order.status == 'shipping' %}
                            <span style="color: #9b59b6; font-weight: bold;">ğŸšš Äang giao</span>
                        {% elif order.status == 'completed' %}
                            <span style="color: #27ae60; font-weight: bold;">âœ“ HoÃ n thÃ nh</span>
                        {% elif order.status == 'cancelled' %}
                            <span style="color: #e74c3c; font-weight: bold;">âœ— ÄÃ£ há»§y</span>
                        {% else %}
                            <span>{{ order.status }}</span>
                        {% endif %}
                    </td>
                    <td>
                        {% if order.payment_status == 'pending' %}
                            <span style="color: #f39c12;">ChÆ°a thanh toÃ¡n</span>
                        {% elif order.payment_status == 'paid' %}
                            <span style="color: #27ae60; font-weight: bold;">âœ“ ÄÃ£ thanh toÃ¡n</span>
                        {% else %}
                            {{ order.payment_status }}
                        {% endif %}
                    </td>
                    <td>{{ order.created_at.strftime('%d/%m/%Y %H:%M') if order.created_at else 'N/A' }}</td>
                    <td>
                        <a href="{{ url_for('admin_order_detail', order_id=order.order_id) }}" class="btn btn-primary" style="padding: 5px 10px; font-size: 12px;">Chi Tiáº¿t</a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    {% else %}
    <p style="text-align: center; color: #7f8c8d; padding: 40px;">ChÆ°a cÃ³ Ä‘Æ¡n hÃ ng nÃ o</p>
    {% endif %}
</div>
{% endblock %}
